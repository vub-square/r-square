<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Wilfried Cools">
<meta name="dcterms.date" content="2023-10-11">
<meta name="description" content="a whirlwind introduction to the basics of R">

<title>Advanced R: tidyverse - R primer</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Advanced R: tidyverse</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html" rel="" target="">
 <span class="menu-text">Tidyverse</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./manipulation.html" rel="" target="">
 <span class="menu-text">Manipulation</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./visualization.html" rel="" target="">
 <span class="menu-text">Visualization</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-context" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Context</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-context">    
        <li>
    <a class="dropdown-item" href="./rPrimer.html" rel="" target="">
 <span class="dropdown-text">R primer</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./rProgramming.html" rel="" target="">
 <span class="dropdown-text">Programming</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./representation.html" rel="" target="">
 <span class="dropdown-text">Representation</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar"><div class="quarto-margin-header"><div class="margin-header-item">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://square.research.vub.be/"><img src=".\_xtra/_hdr_logo.png" class="img-fluid figure-img"></a></p>
</figure>
</div>
</div></div>
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#exemplary-analysis" id="toc-exemplary-analysis" class="nav-link active" data-scroll-target="#exemplary-analysis">Exemplary Analysis</a></li>
  <li><a href="#using-r" id="toc-using-r" class="nav-link" data-scroll-target="#using-r">Using R</a></li>
  <li><a href="#r-workspace" id="toc-r-workspace" class="nav-link" data-scroll-target="#r-workspace">R workspace</a></li>
  <li><a href="#r-objects" id="toc-r-objects" class="nav-link" data-scroll-target="#r-objects">R objects</a>
  <ul>
  <li><a href="#create-r-objects" id="toc-create-r-objects" class="nav-link" data-scroll-target="#create-r-objects">Create R objects</a></li>
  <li><a href="#dataframes-r-data-object-for-analysis" id="toc-dataframes-r-data-object-for-analysis" class="nav-link" data-scroll-target="#dataframes-r-data-object-for-analysis">Dataframes: R data object for analysis</a></li>
  <li><a href="#read-dataframes" id="toc-read-dataframes" class="nav-link" data-scroll-target="#read-dataframes">Read dataframes</a></li>
  <li><a href="#data-types-and-structures-in-r" id="toc-data-types-and-structures-in-r" class="nav-link" data-scroll-target="#data-types-and-structures-in-r">Data types and structures in R</a></li>
  <li><a href="#applying-functions" id="toc-applying-functions" class="nav-link" data-scroll-target="#applying-functions">Applying functions</a></li>
  <li><a href="#creating-functions" id="toc-creating-functions" class="nav-link" data-scroll-target="#creating-functions">Creating functions</a></li>
  <li><a href="#r-operators" id="toc-r-operators" class="nav-link" data-scroll-target="#r-operators">R operators</a></li>
  <li><a href="#r-control-structures" id="toc-r-control-structures" class="nav-link" data-scroll-target="#r-control-structures">R Control Structures</a></li>
  <li><a href="#r-help-files" id="toc-r-help-files" class="nav-link" data-scroll-target="#r-help-files">R help files</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">R primer</h1>
</div>

<div>
  <div class="description">
    a whirlwind introduction to the basics of R
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Wilfried Cools </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">October 11, 2023</p>
    </div>
  </div>
  
    
  </div>
  
<div>
  <div class="abstract">
    <div class="abstract-title">In focus</div>
    A few of the basic concepts of the R language
  </div>
</div>

</header>

<!--
knitr::purl('rPrimer.qmd')
-->
<div class="callout callout-style-default callout-important callout-titled" title="What-Why-Who">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
What-Why-Who
</div>
</div>
<div class="callout-body-container callout-body">
<p>Current draft aims to very concisely introduce researchers to R.</p>
<p>Our target audience is primarily the research community at VUB / UZ Brussel, those who have some basic experience in R and could use a refresher.</p>
<p>We invite you to help improve this document by sending us feedback: wilfried.cools@vub.be</p>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled" title="Key Message">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Key Message
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><p>Learning R will reward the researcher with the ability to read, manipulate, summarize and visualize data with tremendous flexibility, for free, anywhere and anytime.</p></li>
<li><p>R gives access to an enormous range of statistical techniques made available through R packages, with a huge R community online to help out.</p></li>
<li><p>The open source programming language R is more than just statistics; packages support reproducible research (eg., markdown/quarto), web apps (eg., shiny), databases (eg., SQL), interaction with other programming languages (eg., Python), cloud computing and more.<br>
</p></li>
</ul>
</div>
</div>
<!--
knitr::purl('rPrimer.qmd')
-->
<p>Compiled Oct 11, 2023 (R 4.3.1)</p>
<!-- INTRO -->
<section id="exemplary-analysis" class="level2">
<h2 class="anchored" data-anchor-id="exemplary-analysis">Exemplary Analysis</h2>
<p>Before going into any detail, a simple analysis will show you where you are heading towards.</p>
<div class="columns">
<div class="column" style="width:50%;">
<p>Let’s use a dataset that is included into R, the <code>mtcars</code>.<br>
Determine all available data with <code>data( )</code>.</p>
<p>The first 6 lines of the dataset is shown to give an idea about the variables.</p>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(mtcars)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                   mpg cyl disp  hp drat    wt  qsec vs am gear carb
Mazda RX4         21.0   6  160 110 3.90 2.620 16.46  0  1    4    4
Mazda RX4 Wag     21.0   6  160 110 3.90 2.875 17.02  0  1    4    4
Datsun 710        22.8   4  108  93 3.85 2.320 18.61  1  1    4    1
Hornet 4 Drive    21.4   6  258 110 3.08 3.215 19.44  1  0    3    1
Hornet Sportabout 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2
Valiant           18.1   6  225 105 2.76 3.460 20.22  1  0    3    1</code></pre>
</div>
</div>
</div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<p>A regression analysis of <code>mpg</code> (dependent variable) on <code>am</code> (independent variable) is performed with <code>lm( )</code> function (linear model).</p>
<p><code>am</code> is treated as a factor with two levels “0” and “1” (see later) or numeric with values 0 and 1, which makes no difference with only two values.</p>
<p>The result is assigned to the R object <code>myResult</code>.</p>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>myResult <span class="ot">&lt;-</span> <span class="fu">lm</span>(mpg<span class="sc">~</span>am,<span class="at">data=</span>mtcars)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<p>To show the result, request the R object.<br>
Note: an assignment of regression output to an R object (referred to with its name) does not show by itself.</p>
<p>There is a lot more inside the object that can be extracted.<br>
To request a summary, use the <code>summary()</code> function on the R object.</p>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(myResult)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = mpg ~ am, data = mtcars)

Residuals:
    Min      1Q  Median      3Q     Max 
-9.3923 -3.0923 -0.2974  3.2439  9.5077 

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)   17.147      1.125  15.247 1.13e-15 ***
am             7.245      1.764   4.106 0.000285 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 4.902 on 30 degrees of freedom
Multiple R-squared:  0.3598,    Adjusted R-squared:  0.3385 
F-statistic: 16.86 on 1 and 30 DF,  p-value: 0.000285</code></pre>
</div>
</div>
</div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<p>For a regression output type of object, the <code>plot( )</code> function offers specific visualizations.<br>
A possible way to request one of them is by using their index.</p>
<p>The qqplot (2) and the influence measured by Cook’s distance (4) are shown.</p>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(myResult,<span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="rPrimer_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(myResult,<span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="rPrimer_files/figure-html/unnamed-chunk-6-2.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<p>For a regression output type of object, much more information is available, try <code>str(myResult)</code> and you’ll see.</p>
<p>Extract, for example, the R-squared of explained variance:</p>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(myResult)<span class="sc">$</span>r.squared</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.3597989</code></pre>
</div>
</div>
</div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<p>In this case, with a continuous dependent variable and a categorical independent, an equivalent analysis would be ANOVA which can be performed with the <code>aov()</code> function in which the <code>am</code> is automatically treated as a factor.</p>
<p>Let’s perform the anova and extract it’s summary.</p>
<p>The t-value when squared gives an F-value, so you can verify, both the ANOVA and regression offer exactly the same evidence for group differences in <code>mpg</code> for <code>am</code> equal to <code>0</code> or <code>1</code>.</p>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">aov</span>(mpg<span class="sc">~</span>am,<span class="at">data=</span>mtcars))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>            Df Sum Sq Mean Sq F value   Pr(&gt;F)    
am           1  405.2   405.2   16.86 0.000285 ***
Residuals   30  720.9    24.0                     
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="using-r" class="level2">
<h2 class="anchored" data-anchor-id="using-r">Using R</h2>
<p>R commands can be entered in the R console for its interpretation (=running R commands).</p>
<ul>
<li>Enter commands after the prompt, typically <code>&gt;</code> to start and <code>+</code> to proceed.<br>
</li>
<li>Push <code>enter</code> to make R interpret your command. <code>ESC</code> to exit a command.</li>
<li>Push <code>Arrow Up</code> (Down) to request previous (next) command. The function <code>history()</code> shows earlier commands.<br>
</li>
<li>Push <code>Tab</code> to complete the name of an R object if uniquely identifiable. <code>Tab</code> again to list possible names of R object if not uniquely identifiable.</li>
</ul>
<p>R scripts combine commands for current and future use, they can be flushed to the R console (=creating a program with R commands).</p>
<ul>
<li>from the script window in <strong>RGui</strong> (basic, find Rgui.exe in the folder with binary files, maybe <code>R/R-x.x.x/bin/x64</code> or <code>R/R-x.x.x/bin/i386</code>)</li>
<li>from source code editors, eg., <strong>Notepad++</strong> (general purpose)</li>
<li>integrated development environments: eg., <strong>RStudio</strong> (standard / recommended)</li>
</ul>
</section>
<section id="r-workspace" class="level2">
<h2 class="anchored" data-anchor-id="r-workspace">R workspace</h2>
<p>An R workspace is a working environment for a user to interact with, that includes all R objects a user makes or imports. An R workspace has the extension <code>.RData</code> (or <code>.rdta</code>).</p>
<!-- working directory -->
<p>An R workspace is linked to a directory on your system, the working directory, for its input and output. This is the folder in which your <code>.RData</code> is stored.</p>
<div class="columns">
<div class="column" style="width:50%;">
<p>Retrieve the working directory:</p>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">getwd</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<p>Check what is in that working directory already:</p>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dir</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<p>Set a working directory by its directory path, use forward slashes (or double backward <code>\\</code> because <code>\</code> is an escape character):</p>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">'C:/Users/.../Documents/'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<!-- interaction -->
<p>A workspace can import files from (the working) directory:</p>
<ul>
<li>R workspace with its R objects using <code>load()</code>
<ul>
<li>eg., <code>load(mydta.RData)</code></li>
</ul></li>
<li>R code with variables and/or functions to execute using <code>source()</code>
<ul>
<li>eg., <code>source('myprog.r')</code></li>
</ul></li>
<li>R functions from installed R packages using <code>library()</code> or <code>require()</code>
<ul>
<li>eg., <code>library(tidyverse)</code></li>
</ul></li>
<li>data from text or other files (see below)
<ul>
<li>eg., <code>read_table(file='myfile.txt',sep='\t')</code></li>
</ul></li>
</ul>
<!-- functionality -->
<p>An R workspace offers over 1000 functions and operators combined into the package <code>base</code>.<br>
Additional dedicated functions are included by loading in appropriate additional packages when necessary (see <code>library( )</code>).</p>
<div class="columns">
<div class="column" style="width:50%;">
<p>To include all functions related to the <code>tidyverse</code> package, at least once install the packages of interest, and occasionally update them:</p>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">'tidyverse'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<p>Every time a workspace is opened, all relevant packages should be included</p>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<p>Check which packages are loaded:</p>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">search</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] ".GlobalEnv"         "package:kableExtra" "package:gtExtras"  
 [4] "package:gt"         "package:lubridate"  "package:forcats"   
 [7] "package:stringr"    "package:dplyr"      "package:purrr"     
[10] "package:readr"      "package:tidyr"      "package:tibble"    
[13] "package:ggplot2"    "package:tidyverse"  "package:stats"     
[16] "package:graphics"   "package:grDevices"  "package:utils"     
[19] "package:datasets"   "package:methods"    "Autoloads"         
[22] "package:base"      </code></pre>
</div>
</div>
</div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<p>Check where packages are stored:</p>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">.libPaths</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "C:/Users/Wilfried/Use/R"                          
[2] "C:/Users/Wilfried/AppData/Local/R/win-library/4.3"
[3] "C:/Program Files/R/R-4.3.1/library"               </code></pre>
</div>
</div>
</div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<p>Check all installed packages<br>
by default includes all locations given by .libPaths()</p>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p>To get help on how to use functions, eg., <code>read.delim( )</code>,<br>
call them with <code>?read_delim</code>.</p>
<p>To get help on how to use packages, eg., <code>tidyr</code>,<br>
call <code>help(package='tidyr')</code>.</p>
</section>
<section id="r-objects" class="level1">
<h1>R objects</h1>
<p>An R workspace contains R objects which can be data as well as methods and functions. Each object is of a certain class which defines the object and how it is handled.</p>
<div class="columns">
<div class="column" style="width:50%;">
<p>Check the objects currently in your workspace:</p>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ls</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "has_annotations" "myResult"        "params"         </code></pre>
</div>
</div>
</div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<p>Check the class of an object,<br>
in this case a dataframe:</p>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(mtcars)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "data.frame"</code></pre>
</div>
</div>
</div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<p>Check the class of an object,<br>
in this case a regression result or lm-object:</p>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(myResult)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "lm"</code></pre>
</div>
</div>
</div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<p>Check the class of an object,<br>
in this case a function or function-object:</p>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(plot)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "function"</code></pre>
</div>
</div>
</div>
</div>
<p>Objects are defined by various attributes and methods.<br>
The <code>str()</code> function (structure) is very very convenient, just to make sure what the object is, see its content, and structure.</p>
<div class="columns">
<div class="column" style="width:50%;">
<p>Check the structure of an object,<br>
in this case a dataframe and function:</p>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(mtcars)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   32 obs. of  11 variables:
 $ mpg : num  21 21 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 ...
 $ cyl : num  6 6 4 6 8 6 8 4 4 6 ...
 $ disp: num  160 160 108 258 360 ...
 $ hp  : num  110 110 93 110 175 105 245 62 95 123 ...
 $ drat: num  3.9 3.9 3.85 3.08 3.15 2.76 3.21 3.69 3.92 3.92 ...
 $ wt  : num  2.62 2.88 2.32 3.21 3.44 ...
 $ qsec: num  16.5 17 18.6 19.4 17 ...
 $ vs  : num  0 0 1 1 0 1 0 1 1 1 ...
 $ am  : num  1 1 1 0 0 0 0 0 0 0 ...
 $ gear: num  4 4 4 3 3 3 3 4 4 4 ...
 $ carb: num  4 4 1 1 2 1 4 2 2 4 ...</code></pre>
</div>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(plot)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>function (x, y, ...)  </code></pre>
</div>
</div>
</div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<p>Some objects consist of many different pieces of information.<br>
Extract attributes, for example the attribute <code>names</code>.</p>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">attr</span>(myResult,<span class="st">'names'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "coefficients"  "residuals"     "effects"       "rank"         
 [5] "fitted.values" "assign"        "qr"            "df.residual"  
 [9] "xlevels"       "call"          "terms"         "model"        </code></pre>
</div>
</div>
</div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<p>Check a particular piece of information within an object<br>
use these names following the <code>$</code> sign (to extract a slot from a list).</p>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>myResult<span class="sc">$</span>call</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>lm(formula = mpg ~ am, data = mtcars)</code></pre>
</div>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>myResult<span class="sc">$</span>contrasts</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>NULL</code></pre>
</div>
</div>
</div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<p>Or simply use the content directly,<br>
for example making a histogram with <code>hist()</code> of the residuals that remain after a regression analysis.</p>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(myResult<span class="sc">$</span>residuals)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="rPrimer_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
</div>
<section id="create-r-objects" class="level2">
<h2 class="anchored" data-anchor-id="create-r-objects">Create R objects</h2>
<p>The <code>&lt;-</code> assignment operator assigns values to R objects through their name (<code>=</code> works equivalently, but note: <code>==</code> is the equal sign).</p>
<p>Equivalently, the <code>assign( )</code> function can be used<br>
eg., assign(‘myNewObject’,c(1:10))</p>
<div class="columns">
<div class="column" style="width:50%;">
<p>Note that the path is specified by a string (class=character).</p>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>myDirPath <span class="ot">&lt;-</span> <span class="st">'C:/Users/.../Documents/'</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(myDirPath)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
</div>
</div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<p>Once established, the R object can be used by any function able to deal with that type of object, in this case a string.</p>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(myDirPath)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<p>An R object can be removed, which is especially of interest when it uses a lot of memory.</p>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(myDirPath)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<p>A few R objects are created to exemplify.<br>
To show the result of an assignment is should either be called explicitly, or the assignment should be made in brackets.</p>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'a vector of 2'</span>,<span class="dv">1</span>)</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>a</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "a vector of 2" "1"            </code></pre>
</div>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(a)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>(b <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>,<span class="cn">NA</span>,<span class="dv">3</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  2 NA  3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(b)    <span class="co"># a numeric vector</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "numeric"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>(mx <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>,<span class="at">nrow=</span><span class="dv">3</span>)) <span class="co"># a matrix</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3] [,4]
[1,]    1    4    7   10
[2,]    2    5    8   11
[3,]    3    6    9   12</code></pre>
</div>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(mx)   <span class="co"># matrix of numbers</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "matrix" "array" </code></pre>
</div>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>(mydataframe <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>        <span class="at">y=</span><span class="fu">runif</span>(<span class="dv">10</span>),</span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">x=</span><span class="fu">rep</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>),</span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">each=</span><span class="dv">5</span>))</span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>            y x
1  0.06478043 1
2  0.18264613 1
3  0.65014439 1
4  0.53667521 1
5  0.69810151 1
6  0.59612015 2
7  0.52916412 2
8  0.63782574 2
9  0.32280278 2
10 0.32731049 2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(mydataframe)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "data.frame"</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="dataframes-r-data-object-for-analysis" class="level2">
<h2 class="anchored" data-anchor-id="dataframes-r-data-object-for-analysis">Dataframes: R data object for analysis</h2>
<p>Typically data are stored as a dataframe in R, which is a list of equally sized vectors. A vector is a combination of elements of a particular type. Note: different types can not co-exist in a vector.</p>
<p>Dataframes are similar to matrices, but more flexible because each vector can be of a different type. Roughly speaking, the first column could be characters, the second numbers, the third booleans, … all of the same size.</p>
<div class="columns">
<div class="column" style="width:50%;">
<p>An exemplary dataframe is created from vectors of size 4:</p>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>mydataframe <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">a=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>,</span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">b=</span><span class="fu">c</span>(T,<span class="cn">FALSE</span>,T,<span class="cn">TRUE</span>),</span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">c=</span><span class="fu">c</span>(<span class="st">'a'</span>,<span class="st">'b'</span>,<span class="st">'a'</span>,<span class="st">'a'</span>),</span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">d=</span><span class="fu">c</span>(<span class="fl">1.2</span>,<span class="cn">NA</span>,<span class="fl">1.5</span>,.<span class="dv">2</span>),</span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">e=</span><span class="fu">c</span>(<span class="fl">1.2</span>,T,.<span class="dv">3</span>,<span class="cn">NA</span>),</span>
<span id="cb61-7"><a href="#cb61-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">f=</span><span class="fu">c</span>(<span class="fl">1.2</span>,<span class="st">'&gt;5'</span>,<span class="cn">NA</span>,.<span class="dv">2</span>),</span>
<span id="cb61-8"><a href="#cb61-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">g=</span><span class="fu">c</span>(T,<span class="cn">FALSE</span>,<span class="st">'true'</span>,<span class="st">'?'</span>)</span>
<span id="cb61-9"><a href="#cb61-9" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<p>Notice that the dataframe consists of column a to g.</p>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>mydataframe</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  a     b c   d   e    f     g
1 1  TRUE a 1.2 1.2  1.2  TRUE
2 2 FALSE b  NA 1.0   &gt;5 FALSE
3 3  TRUE a 1.5 0.3 &lt;NA&gt;  true
4 4  TRUE a 0.2  NA  0.2     ?</code></pre>
</div>
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(mydataframe)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   4 obs. of  7 variables:
 $ a: int  1 2 3 4
 $ b: logi  TRUE FALSE TRUE TRUE
 $ c: chr  "a" "b" "a" "a"
 $ d: num  1.2 NA 1.5 0.2
 $ e: num  1.2 1 0.3 NA
 $ f: chr  "1.2" "&gt;5" NA "0.2"
 $ g: chr  "TRUE" "FALSE" "true" "?"</code></pre>
</div>
</div>
</div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<p>Notice that the dataframe consists of column a to g.</p>
<p>The different vectors within the dataframe:</p>
<ul>
<li>a: integer (int)</li>
<li>b: logical (with TRUE or FALSE), T and F are converted into booleans TRUE and FALSE</li>
<li>c: factor, character type labels are converted into a factor with two levels</li>
<li>d: numeric, double values with NA for a missing value which does not change the type</li>
<li>e: numeric, the T is interpreted as TRUE which is a boolean which is converted into a 1</li>
<li>f: factor, the &gt;5 can not be interpreted as numeric/boolean, all values are turned into characters and converted to factors</li>
<li>g: factor, the ? and true can not be interpreted as numeric/boolean, all values are turned into characters and converted to factors</li>
</ul>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>mydataframe</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  a     b c   d   e    f     g
1 1  TRUE a 1.2 1.2  1.2  TRUE
2 2 FALSE b  NA 1.0   &gt;5 FALSE
3 3  TRUE a 1.5 0.3 &lt;NA&gt;  true
4 4  TRUE a 0.2  NA  0.2     ?</code></pre>
</div>
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(mydataframe)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   4 obs. of  7 variables:
 $ a: int  1 2 3 4
 $ b: logi  TRUE FALSE TRUE TRUE
 $ c: chr  "a" "b" "a" "a"
 $ d: num  1.2 NA 1.5 0.2
 $ e: num  1.2 1 0.3 NA
 $ f: chr  "1.2" "&gt;5" NA "0.2"
 $ g: chr  "TRUE" "FALSE" "true" "?"</code></pre>
</div>
</div>
</div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<p>To avoid characters converted into factors, add the stringsAsFactors=FALSE argument.</p>
<p>Notice, characters are quoted.</p>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>mydataframe2 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">c=</span><span class="fu">c</span>(<span class="st">'a'</span>,<span class="st">'b'</span>,<span class="st">'a'</span>,<span class="st">'a'</span>),</span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">f=</span><span class="fu">c</span>(<span class="fl">1.2</span>,<span class="st">'&gt;5'</span>,<span class="cn">NA</span>,.<span class="dv">2</span>),</span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">g=</span><span class="fu">c</span>(T,<span class="cn">FALSE</span>,<span class="st">'true'</span>,<span class="st">'?'</span>), </span>
<span id="cb70-5"><a href="#cb70-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">stringsAsFactors=</span><span class="cn">FALSE</span>)</span>
<span id="cb70-6"><a href="#cb70-6" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(mydataframe2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   4 obs. of  3 variables:
 $ c: chr  "a" "b" "a" "a"
 $ f: chr  "1.2" "&gt;5" NA "0.2"
 $ g: chr  "TRUE" "FALSE" "true" "?"</code></pre>
</div>
</div>
</div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<p>Extract the vector from a dataframe, using the <code>$</code> operator and a name, the list selector <code>[[ ]]</code> with either a name or a number for the position.</p>
<p>A vector named ‘a’ is selected using the $, or as an element within the list, or the first element, or the first column treating it as a matrix, of the column named ‘a’ treating it as a matrix.</p>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>mydataframe<span class="sc">$</span>a</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 2 3 4</code></pre>
</div>
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>mydataframe[[<span class="st">'a'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 2 3 4</code></pre>
</div>
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a>mydataframe[[<span class="dv">1</span>]]    </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 2 3 4</code></pre>
</div>
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a>mydataframe[,<span class="dv">1</span>] </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 2 3 4</code></pre>
</div>
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a>mydataframe[,<span class="st">'a'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 2 3 4</code></pre>
</div>
</div>
</div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<p>The class is now of type vector, in this case numeric:</p>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(mydataframe<span class="sc">$</span>a)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "integer"</code></pre>
</div>
</div>
</div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<p>Extract a row from a dataframe, using either the row name or a number of the position.</p>
<p>The row names can be consulted.</p>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="fu">row.names</span>(mydataframe)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "1" "2" "3" "4"</code></pre>
</div>
</div>
</div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<p>These row names can also be altered.</p>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="fu">row.names</span>(mydataframe) <span class="ot">&lt;-</span> </span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">c</span>(<span class="st">'row.1'</span>,</span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'row.2'</span>,</span>
<span id="cb86-4"><a href="#cb86-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'row.3'</span>,</span>
<span id="cb86-5"><a href="#cb86-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">'row.4'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<p>To extract a row it is necessary to treat it like a matrix, with a position or name in front of the comma (after the comma is for columns).</p>
<p>Treating a dataframe as if it were a matrix, selecting row 4, or selecting it by row names as given.</p>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a>mydataframe[<span class="dv">4</span>,]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      a    b c   d  e   f g
row.4 4 TRUE a 0.2 NA 0.2 ?</code></pre>
</div>
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a>mydataframe[<span class="fu">c</span>(<span class="st">'row.1'</span>,<span class="st">'row.4'</span>),] </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      a    b c   d   e   f    g
row.1 1 TRUE a 1.2 1.2 1.2 TRUE
row.4 4 TRUE a 0.2  NA 0.2    ?</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="read-dataframes" class="level2">
<h2 class="anchored" data-anchor-id="read-dataframes">Read dataframes</h2>
<p>Various ways exist to read data into R.</p>
<div class="columns">
<div class="column" style="width:50%;">
<p>In base R, read in a tab-delimited text file with header:</p>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a>dta <span class="ot">&lt;-</span> <span class="fu">read.table</span>(</span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">'_dta/RealData_clean.txt'</span>,</span>
<span id="cb91-3"><a href="#cb91-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">sep=</span><span class="st">'</span><span class="sc">\t</span><span class="st">'</span>,</span>
<span id="cb91-4"><a href="#cb91-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">header=</span>T)</span>
<span id="cb91-5"><a href="#cb91-5" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(dta)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "data.frame"</code></pre>
</div>
</div>
</div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<p>Instead of tabs as separator (sep=‘), other symbols can be used, like comma’s (sep=’,’). For other options consult the help file:</p>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a>?read.table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<p>Packages with dedicated read-and-write functions, like the <code>foreign</code> package, provide more functions for reading in data from SAS, Stata, SPSS, and more.</p>
<p>Let’s load in functions, consult the help file and read an SPSS file.</p>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(foreign)</span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a><span class="fu">help</span>(<span class="at">package=</span><span class="st">'foreign'</span>)</span>
<span id="cb94-3"><a href="#cb94-3" aria-hidden="true" tabindex="-1"></a><span class="fu">read.spss</span>(<span class="st">"RealData_clean.sav"</span>,</span>
<span id="cb94-4"><a href="#cb94-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">to.data.frame=</span>T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<p>The <code>tidyverse</code> ecosystem includes the <code>readr</code> package, for reading in data. Check out the arguments with <code>?read_delim</code>.</p>
<p>Different types of files can be read in with different delimiters.</p>
<p>Note that also a copy-paste is possible, an example in <code>readr</code> is included</p>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="co"># library(readr) # or tidyverse</span></span>
<span id="cb95-2"><a href="#cb95-2" aria-hidden="true" tabindex="-1"></a>mydtaCsv <span class="ot">&lt;-</span> <span class="fu">read_delim</span>(<span class="st">'_dta/RealData_clean.csv'</span>,</span>
<span id="cb95-3"><a href="#cb95-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">delim=</span><span class="st">';'</span>)</span>
<span id="cb95-4"><a href="#cb95-4" aria-hidden="true" tabindex="-1"></a>mydtaTxt <span class="ot">&lt;-</span> <span class="fu">read_delim</span>(<span class="st">'_dta/RealData_clean.txt'</span>,</span>
<span id="cb95-5"><a href="#cb95-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">delim=</span><span class="st">'</span><span class="sc">\t</span><span class="st">'</span>)</span>
<span id="cb95-6"><a href="#cb95-6" aria-hidden="true" tabindex="-1"></a>mydtaClp <span class="ot">&lt;-</span> <span class="fu">read_delim</span>(</span>
<span id="cb95-7"><a href="#cb95-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">clipboard</span>(),</span>
<span id="cb95-8"><a href="#cb95-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">delim=</span><span class="st">'</span><span class="sc">\t</span><span class="st">'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<p>Excel is notoriously error prone but popular. A package dedicated to reading in data from Excel is <code>readxl</code>.</p>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a><span class="co"># read xlsx file and assign it to mydtaXls object</span></span>
<span id="cb96-3"><a href="#cb96-3" aria-hidden="true" tabindex="-1"></a>mydtaXls <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(</span>
<span id="cb96-4"><a href="#cb96-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"_dta/RealData_clean.xlsx"</span>,</span>
<span id="cb96-5"><a href="#cb96-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">sheet=</span><span class="st">"datafile"</span>)</span>
<span id="cb96-6"><a href="#cb96-6" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(mydtaXls) <span class="co"># consult class of mydtaXls object</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "tbl_df"     "tbl"        "data.frame"</code></pre>
</div>
</div>
</div>
</div>
<p>For each function, many arguments are possible.<br>
More complex and versatile tools exist, also for XML, relational databases, unstructured data, …</p>
</section>
<section id="data-types-and-structures-in-r" class="level2">
<h2 class="anchored" data-anchor-id="data-types-and-structures-in-r">Data types and structures in R</h2>
<p>Dataframes are lists of vectors with a particular type that should be assigned appropriately.</p>
<div class="columns">
<div class="column" style="width:50%;">
<p>From the <code>mydtaXls</code> file the 5th to 16th row is selected (before the comma in brackets), for the columns 1 to 3, 6, 7, 10 and 11 (after the comma in brackets).</p>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a>rows <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>,<span class="dv">6</span>,<span class="dv">8</span>,<span class="dv">10</span>,<span class="dv">186</span><span class="sc">:</span><span class="dv">189</span>)</span>
<span id="cb98-2"><a href="#cb98-2" aria-hidden="true" tabindex="-1"></a>(dta <span class="ot">&lt;-</span> mydtaXls[rows,<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>,<span class="dv">6</span>,<span class="dv">7</span>,<span class="dv">10</span><span class="sc">:</span><span class="dv">11</span>)])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 7
   Pte      Dx        P Size mm (FMT,VZ, QRT…¹ `FMT (mm)` `Measurement in endom`
   &lt;chr&gt;    &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;                       &lt;dbl&gt; &lt;chr&gt;                 
 1 1        TB        3 VZ 24 (vierling)               NA Y                     
 2 2        TB        1 FMT 13                         13 Y/N                   
 3 3        FLIN      1 VZ 23                          NA Y                     
 4 6        TB        3 FMT 6                           6 N                     
 5 8        TB        2 FMT 8                           8 Y                     
 6 10       TB        4 VZ 45                          NA Y                     
 7 186      PRR       1 infected heterotopic …         NA ?                     
 8 186 non… &lt;NA&gt;     NA &lt;NA&gt;                           NA &lt;NA&gt;                  
 9 PUL evol &lt;NA&gt;     NA &lt;NA&gt;                           NA &lt;NA&gt;                  
10 1        PRR      NA 0                              NA ?                     
# ℹ abbreviated name: ¹​`Size mm (FMT,VZ, QRT)`
# ℹ 1 more variable: CL &lt;chr&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<p>The extremely useful <code>str()</code> function extracts the structure of the R object. Use it!!</p>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(dta)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>tibble [10 × 7] (S3: tbl_df/tbl/data.frame)
 $ Pte                  : chr [1:10] "1" "2" "3" "6" ...
 $ Dx                   : chr [1:10] "TB" "TB" "FLIN" "TB" ...
 $ P                    : num [1:10] 3 1 1 3 2 4 1 NA NA NA
 $ Size mm (FMT,VZ, QRT): chr [1:10] "VZ 24 (vierling)" "FMT 13" "VZ 23" "FMT 6" ...
 $ FMT (mm)             : num [1:10] NA 13 NA 6 8 NA NA NA NA NA
 $ Measurement in endom : chr [1:10] "Y" "Y/N" "Y" "N" ...
 $ CL                   : chr [1:10] "?" "?" "1" "?" ...</code></pre>
</div>
</div>
</div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<p>The classes in this case are tbl_df, tbl, data.frame. When <code>tidyverse</code> is loaded, dataframes are automatically assigned the extra class <code>tbl_df</code> and <code>tbl</code> with extra functionality (see future).</p>
<p>In the example the numeric <code>P</code> is reduced by 2, and then turned into a factor.<br>
The <code>Dx</code> variable which is of type character is made a factor, which has levels.<br>
The <code>CL</code> variable is made an ordered factor, with levels ‘yes’, ‘maybe’ and ‘no’ using the data 1, ? and 0.<br>
The <code>CL</code> variable which is now a factor is turned into a numeric again, first making it a character vector (tricky issue: is to avoid obtaining the level ranks) and then making it a number.<br>
The <code>FMT (mm)</code> variable is then assigned to the not yet existing <code>fmt</code> variable. Notice the `<code>, these quotes are required because the variable name contains a space.   Finally, the</code>FMT (mm)` is removed, simply by assigning it the NULL value.</p>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a>dta<span class="sc">$</span>P <span class="ot">&lt;-</span> <span class="fu">factor</span>(dta<span class="sc">$</span>P<span class="dv">-2</span>)</span>
<span id="cb102-2"><a href="#cb102-2" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(dta<span class="sc">$</span>P)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "-1" "0"  "1"  "2" </code></pre>
</div>
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a>dta<span class="sc">$</span>Dx <span class="ot">&lt;-</span> <span class="fu">factor</span>(dta<span class="sc">$</span>Dx)</span>
<span id="cb104-2"><a href="#cb104-2" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(dta<span class="sc">$</span>Dx)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "FLIN" "PRR"  "TB"  </code></pre>
</div>
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a>dta<span class="sc">$</span>newCL <span class="ot">&lt;-</span> <span class="fu">factor</span>(dta[,<span class="st">'CL'</span>],</span>
<span id="cb106-2"><a href="#cb106-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">ordered=</span><span class="cn">TRUE</span>,</span>
<span id="cb106-3"><a href="#cb106-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">levels=</span><span class="fu">c</span>(<span class="st">'1'</span>,<span class="st">'?'</span>,<span class="st">'0'</span>),</span>
<span id="cb106-4"><a href="#cb106-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels=</span><span class="fu">c</span>(<span class="st">'yes'</span>,<span class="st">'maybe'</span>,<span class="st">'no'</span>))</span>
<span id="cb106-5"><a href="#cb106-5" aria-hidden="true" tabindex="-1"></a>dta[,<span class="st">'CL'</span>] <span class="ot">&lt;-</span> <span class="fu">factor</span>(dta[,<span class="st">'CL'</span>],</span>
<span id="cb106-6"><a href="#cb106-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">levels=</span><span class="fu">c</span>(<span class="st">'1'</span>,<span class="st">'0'</span>))</span>
<span id="cb106-7"><a href="#cb106-7" aria-hidden="true" tabindex="-1"></a>dta<span class="sc">$</span>numCL <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(</span>
<span id="cb106-8"><a href="#cb106-8" aria-hidden="true" tabindex="-1"></a>        <span class="fu">as.character</span>(dta<span class="sc">$</span>CL)</span>
<span id="cb106-9"><a href="#cb106-9" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb106-10"><a href="#cb106-10" aria-hidden="true" tabindex="-1"></a>dta<span class="sc">$</span>fmt <span class="ot">&lt;-</span> dta<span class="sc">$</span><span class="st">`</span><span class="at">FMT (mm)</span><span class="st">`</span></span>
<span id="cb106-11"><a href="#cb106-11" aria-hidden="true" tabindex="-1"></a>dta<span class="sc">$</span><span class="st">`</span><span class="at">FMT (mm)</span><span class="st">`</span> <span class="ot">&lt;-</span> <span class="cn">NULL</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<p>The resulting structure is:</p>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(dta[,<span class="fu">c</span>(<span class="st">'P'</span>,<span class="st">'Dx'</span>,<span class="st">'newCL'</span>,<span class="st">'CL'</span>,<span class="st">'numCL'</span>,<span class="st">'fmt'</span>)])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>tibble [10 × 6] (S3: tbl_df/tbl/data.frame)
 $ P    : Factor w/ 4 levels "-1","0","1","2": 3 1 1 3 2 4 1 NA NA NA
 $ Dx   : Factor w/ 3 levels "FLIN","PRR","TB": 3 3 1 3 3 3 2 NA NA 2
 $ newCL: Ord.factor w/ 3 levels "yes"&lt;"maybe"&lt;..: NA NA NA NA NA NA NA NA NA NA
  ..- attr(*, "names")= chr [1:10] "CL" "CL" "CL" "CL" ...
 $ CL   : Factor w/ 2 levels "1","0": NA NA NA NA NA NA NA NA NA NA
  ..- attr(*, "names")= chr [1:10] "CL" "CL" "CL" "CL" ...
 $ numCL: num [1:10] NA NA NA NA NA NA NA NA NA NA
 $ fmt  : num [1:10] NA 13 NA 6 8 NA NA NA NA NA</code></pre>
</div>
</div>
</div>
</div>
<p>ADVICE: first always check structure, change where necessary</p>
</section>
<section id="applying-functions" class="level2">
<h2 class="anchored" data-anchor-id="applying-functions">Applying functions</h2>
<p>Functions consist of code that you can execute, to process your data for example. Technically, R functions are also R objects.</p>
<div class="columns">
<div class="column" style="width:50%;">
<p>A few simple functions are <code>summary()</code> and <code>table()</code>:</p>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(dta<span class="sc">$</span>P)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  -1    0    1    2 NA's 
   3    1    2    1    3 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">as.numeric</span>(dta<span class="sc">$</span>P))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
  1.000   1.000   2.000   2.143   3.000   4.000       3 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">as.numeric</span>(<span class="fu">as.character</span>(dta<span class="sc">$</span>P)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
-1.0000 -1.0000  0.0000  0.1429  1.0000  2.0000       3 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(dta<span class="sc">$</span>P,<span class="at">useNA=</span><span class="st">'always'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
  -1    0    1    2 &lt;NA&gt; 
   3    1    2    1    3 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(<span class="fu">as.numeric</span>(dta<span class="sc">$</span>P),<span class="at">useNA=</span><span class="st">'always'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
   1    2    3    4 &lt;NA&gt; 
   3    1    2    1    3 </code></pre>
</div>
</div>
</div>
</div>
<p>A summary taken from a factor offers a frequency table.<br>
A summary of a factor that is converted to numeric offers a few statistics (extrema, mean, …) calculated on the level ranks. This is probably not what is intended.<br>
A summary of a factor that is converted first to a character, then to numeric will correctly offer the statistics of the actual values.<br>
A table would offer a frequency table. Always be cautious when working with factors, they behave in sometimes complex ways.</p>
<p>ADVICE: first always check summaries and tables, change where necessary in order to detect anomalies</p>
<p>Almost all statistical analyses in R will use functions others created for you to execute on your data. Examples have been the <code>lm()</code>, <code>aov()</code>, and <code>plot()</code>.</p>
</section>
<section id="creating-functions" class="level2">
<h2 class="anchored" data-anchor-id="creating-functions">Creating functions</h2>
<p>Instead of using existing functions, it is possible to create your own. For simple data analysis this is rarely necessary but some basic understanding will probably help you understand how to use functions better.</p>
<p>A function in R has the structure <code>function(arglist) {body}</code>.</p>
<p>The body contains a set of instructions that are executed each time the function is called. The list of arguments bring in the information required for the function to execute.</p>
<div class="columns">
<div class="column" style="width:50%;">
<p>A function that returns a random standard normal value could be:</p>
<p>Each call of the function will execute it.</p>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a>myRandomNormalValue <span class="ot">&lt;-</span> <span class="cf">function</span>(){ </span>
<span id="cb119-2"><a href="#cb119-2" aria-hidden="true" tabindex="-1"></a>        <span class="fu">return</span>(<span class="fu">rnorm</span>(<span class="dv">1</span>)) </span>
<span id="cb119-3"><a href="#cb119-3" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb119-4"><a href="#cb119-4" aria-hidden="true" tabindex="-1"></a><span class="fu">myRandomNormalValue</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -0.7645903</code></pre>
</div>
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a><span class="fu">myRandomNormalValue</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -0.4786123</code></pre>
</div>
</div>
</div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<p>A function that returns the value to the power 2 could be:</p>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb123"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a>myValueToPower2 <span class="ot">&lt;-</span> <span class="cf">function</span>(val){ </span>
<span id="cb123-2"><a href="#cb123-2" aria-hidden="true" tabindex="-1"></a>        <span class="fu">return</span>(val<span class="sc">^</span><span class="dv">2</span>) </span>
<span id="cb123-3"><a href="#cb123-3" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb123-4"><a href="#cb123-4" aria-hidden="true" tabindex="-1"></a><span class="fu">myValueToPower2</span>(<span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 16</code></pre>
</div>
<div class="sourceCode cell-code" id="cb125"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a><span class="fu">myValueToPower2</span>(<span class="dv">6</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 36</code></pre>
</div>
</div>
</div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<p>An assignment of a value to the argument sets the default value:</p>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb127"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb127-1"><a href="#cb127-1" aria-hidden="true" tabindex="-1"></a>myValueToPower2 <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">val=</span><span class="dv">10</span>){ </span>
<span id="cb127-2"><a href="#cb127-2" aria-hidden="true" tabindex="-1"></a>        <span class="fu">return</span>(val<span class="sc">^</span><span class="dv">2</span>) </span>
<span id="cb127-3"><a href="#cb127-3" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb127-4"><a href="#cb127-4" aria-hidden="true" tabindex="-1"></a><span class="fu">myValueToPower2</span>(<span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 16</code></pre>
</div>
<div class="sourceCode cell-code" id="cb129"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb129-1"><a href="#cb129-1" aria-hidden="true" tabindex="-1"></a><span class="fu">myValueToPower2</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 100</code></pre>
</div>
</div>
</div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<p>It is possible to use the functions as if they are the return value:</p>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb131"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb131-1"><a href="#cb131-1" aria-hidden="true" tabindex="-1"></a><span class="fu">myValueToPower2</span>() <span class="sc">+</span> <span class="fu">myValueToPower2</span>(<span class="dv">8</span>) <span class="sc">/</span> <span class="fu">myValueToPower2</span>(<span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 116</code></pre>
</div>
</div>
</div>
</div>
<p>Functions will become more important when chunks of code are repeated many times.</p>
</section>
<section id="r-operators" class="level2">
<h2 class="anchored" data-anchor-id="r-operators">R operators</h2>
<p>R offers the typical operators any programming language would.</p>
<ul>
<li>Arithmetic operators: <code>+</code> <code>-</code> <code>*</code> <code>/</code> <code>^</code> (power) <code>%%</code> (modulus) <code>%|%</code> (integer division)</li>
<li>Relational operators: <code>&lt;</code> <code>&gt;</code> <code>&lt;=</code> <code>=&gt;</code> <code>==</code> <code>!=</code> <code>%in%</code> (vector IN)</li>
<li>Logical operators: <code>!</code> <code>&amp;</code> (elementwise AND) <code>&amp;&amp;</code> (vector AND) <code>|</code> (elementwise OR) <code>||</code> (vector OR)</li>
<li>Assignment operators: <code>&lt;-</code> <code>=</code></li>
</ul>
</section>
<section id="r-control-structures" class="level2">
<h2 class="anchored" data-anchor-id="r-control-structures">R Control Structures</h2>
<p>It is possible to execute code conditionally. For simple data analysis this is rarely necessary but some basic understanding will probably help you understand other researcher’s code.</p>
<div class="columns">
<div class="column" style="width:50%;">
<p>Execute code dependent on a condition being true:</p>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb133"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="fu">rnorm</span>(<span class="dv">1</span>)<span class="sc">&gt;</span><span class="dv">0</span>){ </span>
<span id="cb133-2"><a href="#cb133-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="st">'the generated value was above 0</span><span class="sc">\n</span><span class="st">'</span>) }</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<p>Execute code dependent on a condition being true and other code when false:</p>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb134"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb134-1"><a href="#cb134-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ifelse</span>(<span class="fu">rnorm</span>(<span class="dv">1</span>)<span class="sc">&gt;</span><span class="dv">0</span>,</span>
<span id="cb134-2"><a href="#cb134-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">'above'</span>,</span>
<span id="cb134-3"><a href="#cb134-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'below'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "below"</code></pre>
</div>
</div>
</div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<p>Execute code multiple times, using an indicator variable:</p>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb136"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb136-1"><a href="#cb136-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(it <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>){</span>
<span id="cb136-2"><a href="#cb136-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(<span class="fu">rnorm</span>(<span class="dv">1</span>)<span class="sc">&gt;</span><span class="dv">0</span>){ </span>
<span id="cb136-3"><a href="#cb136-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">cat</span>(</span>
<span id="cb136-4"><a href="#cb136-4" aria-hidden="true" tabindex="-1"></a>            <span class="st">'for it equal to'</span>,</span>
<span id="cb136-5"><a href="#cb136-5" aria-hidden="true" tabindex="-1"></a>            it,</span>
<span id="cb136-6"><a href="#cb136-6" aria-hidden="true" tabindex="-1"></a>            <span class="st">'the generated value was above 0</span><span class="sc">\n</span><span class="st">'</span></span>
<span id="cb136-7"><a href="#cb136-7" aria-hidden="true" tabindex="-1"></a>        ) </span>
<span id="cb136-8"><a href="#cb136-8" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb136-9"><a href="#cb136-9" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>for it equal to 1 the generated value was above 0
for it equal to 2 the generated value was above 0
for it equal to 3 the generated value was above 0
for it equal to 4 the generated value was above 0
for it equal to 5 the generated value was above 0
for it equal to 7 the generated value was above 0
for it equal to 8 the generated value was above 0</code></pre>
</div>
</div>
</div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<p>Execute a code as long as a condition holds:</p>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb138"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb138-1"><a href="#cb138-1" aria-hidden="true" tabindex="-1"></a>it <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb138-2"><a href="#cb138-2" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span>(it <span class="sc">&gt;</span> <span class="dv">0</span>){</span>
<span id="cb138-3"><a href="#cb138-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="st">'it ='</span>,it,<span class="st">'</span><span class="sc">\n</span><span class="st">'</span>)</span>
<span id="cb138-4"><a href="#cb138-4" aria-hidden="true" tabindex="-1"></a>    it <span class="ot">&lt;-</span> it<span class="dv">-1</span></span>
<span id="cb138-5"><a href="#cb138-5" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>it = 3 
it = 2 
it = 1 </code></pre>
</div>
</div>
</div>
</div>
<p>Still other control structures exist.</p>
</section>
<section id="r-help-files" class="level2">
<h2 class="anchored" data-anchor-id="r-help-files">R help files</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p>The <code>?</code> should give basic information on functions and how to use them.</p>
<p>To open the R help file, use the <code>?</code> operator and the name of the function without brackets.</p>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb140"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb140-1"><a href="#cb140-1" aria-hidden="true" tabindex="-1"></a>?paste</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p>A help file in R consists of:</p>
<ul>
<li>reference to package it belongs to (eg., base, which is always loaded automatically)</li>
<li>description</li>
<li>usage with required arguments and their default value if any</li>
<li>arguments with additional information on the arguments</li>
<li>details that could be of interest</li>
<li>value with information on the result</li>
<li>references for further information</li>
<li>see also for highlighting similar, or related functions</li>
<li>examples to show its use</li>
</ul>
<p>From the help file for <code>paste()</code>:</p>
<ul>
<li>paste works on r objects that can be converted to character</li>
<li>a separator is put in between, by default a single space.</li>
<li>these values by default are not collapsed</li>
</ul>
<div class="columns">
<div class="column" style="width:50%;">
<p>For example, with a first object a numeric vector of 4 elements and a second object a character vector of 2 elements.</p>
<p>Either use the default separator, a dash, and maybe collapse using a slash.</p>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb141"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>),</span>
<span id="cb141-2"><a href="#cb141-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">c</span>(<span class="st">"a"</span>,<span class="st">"b"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "1 a" "2 b" "3 a" "4 b"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb143"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb143-1"><a href="#cb143-1" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>),</span>
<span id="cb143-2"><a href="#cb143-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">c</span>(<span class="st">"a"</span>,<span class="st">"b"</span>),</span>
<span id="cb143-3"><a href="#cb143-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">sep=</span><span class="st">'-'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "1-a" "2-b" "3-a" "4-b"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb145"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb145-1"><a href="#cb145-1" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>),</span>
<span id="cb145-2"><a href="#cb145-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">c</span>(<span class="st">"a"</span>,<span class="st">"b"</span>),</span>
<span id="cb145-3"><a href="#cb145-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">sep=</span><span class="st">'-'</span>,<span class="at">collapse=</span><span class="st">'/'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "1-a/2-b/3-a/4-b"</code></pre>
</div>
</div>
</div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>